<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Python Tutorial: 3. Flow Control | Tiexin Guo</title><meta name=keywords content="python"><meta name=description content="In the previous tutorial, we demonstrated the while statement, which is a &ldquo;flow control&rdquo; statement. In computer programming, control flow or flow of control is the order function calls, instructions, and statements are executed or evaluated when a program is running. In Python (as in most other programming languages,) there are more usual flow control statements than just while. 1 if Statements The most well-known flow control statement probably is"><meta name=author content="IronCore"><link rel=canonical href=https://www.guotiexin.com/posts/python-03-flow-control/><link crossorigin=anonymous href=/assets/css/stylesheet.bc1149f4a72aa4858d3a9f71462f75e5884ffe8073ea9d6d5761d5663d651e20.css integrity="sha256-vBFJ9KcqpIWNOp9xRi915YhP/oBz6p1tV2HVZj1lHiA=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG+9vmJ0cTS+ovo0FeA=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=https://www.guotiexin.com/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://www.guotiexin.com/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://www.guotiexin.com/favicon-32x32.png><link rel=apple-touch-icon href=https://www.guotiexin.com/apple-touch-icon.png><link rel=mask-icon href=https://www.guotiexin.com/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:title" content="Python Tutorial: 3. Flow Control"><meta property="og:description" content="In the previous tutorial, we demonstrated the while statement, which is a &ldquo;flow control&rdquo; statement. In computer programming, control flow or flow of control is the order function calls, instructions, and statements are executed or evaluated when a program is running. In Python (as in most other programming languages,) there are more usual flow control statements than just while. 1 if Statements The most well-known flow control statement probably is"><meta property="og:type" content="article"><meta property="og:url" content="https://www.guotiexin.com/posts/python-03-flow-control/"><meta property="og:image" content="https://www.guotiexin.com/1200px-Python-logo.png"><meta property="article:section" content="posts"><meta property="article:published_time" content="2022-07-11T00:00:00+00:00"><meta property="article:modified_time" content="2022-07-11T00:00:00+00:00"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://www.guotiexin.com/1200px-Python-logo.png"><meta name=twitter:title content="Python Tutorial: 3. Flow Control"><meta name=twitter:description content="In the previous tutorial, we demonstrated the while statement, which is a &ldquo;flow control&rdquo; statement. In computer programming, control flow or flow of control is the order function calls, instructions, and statements are executed or evaluated when a program is running. In Python (as in most other programming languages,) there are more usual flow control statements than just while. 1 if Statements The most well-known flow control statement probably is"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":2,"name":"Posts","item":"https://www.guotiexin.com/posts/"},{"@type":"ListItem","position":3,"name":"Python Tutorial: 3. Flow Control","item":"https://www.guotiexin.com/posts/python-03-flow-control/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Python Tutorial: 3. Flow Control","name":"Python Tutorial: 3. Flow Control","description":"In the previous tutorial, we demonstrated the while statement, which is a \u0026ldquo;flow control\u0026rdquo; statement. In computer programming, control flow or flow of control is the order function calls, instructions, and statements are executed or evaluated when a program is running. In Python (as in most other programming languages,) there are more usual flow control statements than just while. 1 if Statements The most well-known flow control statement probably is","keywords":["python"],"articleBody":"In the previous tutorial, we demonstrated the while statement, which is a “flow control” statement.\nIn computer programming, control flow or flow of control is the order function calls, instructions, and statements are executed or evaluated when a program is running.\nIn Python (as in most other programming languages,) there are more usual flow control statements than just while.\n1 if Statements The most well-known flow control statement probably is the if statement. Example:\n\u003e\u003e\u003e x = int(input(\"Please enter an integer: \")) Please enter an integer: 42 \u003e\u003e\u003e if x \u003c 0: ... x = 0 ... print('Negative changed to zero') ... elif x == 0: ... print('Zero') ... elif x == 1: ... print('Single') ... else: ... print('More') ... More Notes:\nThere can be 0 or more elif parts. The else part is optional. The keyword ‘elif’ is short for ‘else if’, and is useful to avoid excessive indentation. For example: if x \u003c 0: x = 0 print('Negative changed to zero') elif x == 0: print('Zero') is equivalent to:\nif x \u003c 0: x = 0 print('Negative changed to zero') else: if x == 0: print('Zero') 2 for Statements Used for loops.\nA loop is a sequence of instructions that is continually repeated (indefinitely, or until a certain condition is reached.)\nIn Python, you can use for to:\nloop over an arithmetic progression of numbers; iterates over the items of any sequence (a list or a string), in the order that they appear in the sequence. Examples:\n\u003e\u003e\u003e # Measure some strings: ... words = ['cat', 'window', 'defenestrate'] \u003e\u003e\u003e for w in words: ... print(w, len(w)) ... cat 3 window 6 defenestrate 12 Code that modifies a collection while iterating over that same collection can be tricky to get right. For example:\n# Create a sample collection users = {'Hans': 'active', 'Éléonore': 'inactive', '景太郎': 'active'} # Strategy: Iterate over a copy for user, status in users.items(): if status == 'inactive': del users[user] Run the code above, and you will get an error “RuntimeError: dictionary changed size during iteration”.\nSo, it is usually a good practice not to modify something while you are iterating over it. If you have to, a more straightforward way is to loop over a copy of the collection or to create a new collection:\n# Create a sample collection users = {'Hans': 'active', 'Éléonore': 'inactive', '景太郎': 'active'} # Strategy1: Iterate over a copy for user, status in users.copy().items(): if status == 'inactive': del users[user] # Strategy2: Create a new collection active_users = {} for user, status in users.items(): if status == 'active': active_users[user] = status 3 The range() Function If you need to iterate over a sequence of numbers, the built-in function range() comes in handy.\nIt generates arithmetic progressions:\n\u003e\u003e\u003e for i in range(5): ... print(i) ... 0 1 2 3 4 The ending point is never part of the generated sequence; range(5) generates 5 values, starting from 0, and ending at 4; 5 is not included. This acts similarly like substring indexes and slices mentioned in the previous tutorial. Python is consistent.\nIt is possible to let the range start at another number, or to specify a different increment (even negative; sometimes this is called the step):\n\u003e\u003e\u003e list(range(5, 10)) [5, 6, 7, 8, 9] \u003e\u003e\u003e list(range(0, 10, 3)) [0, 3, 6, 9] \u003e\u003e\u003e list(range(-10, -100, -30)) [-10, -40, -70] To iterate over the indices of a sequence, you can combine range() and len() as follows:\n\u003e\u003e\u003e a = ['Mary', 'had', 'a', 'little', 'lamb'] \u003e\u003e\u003e for i in range(len(a)): ... print(i, a[i]) ... 0 Mary 1 had 2 a 3 little 4 lamb However, in cases like these, it is convenient to use the enumerate() function:\na = ['Mary', 'had', 'a', 'little', 'lamb'] for i, word in enumerate(a): print(i, word) If you print a range, a strange thing happens:\n\u003e\u003e\u003e range(10) range(0, 10) In many ways, the object returned by range() behaves as if it is a list, except it isn’t. It is an “object” which returns the successive items of the desired sequence when you iterate over it, but it doesn’t really create the list, thus saving memory.\nWe say such an object is iterable, that is, suitable as a target for functions and constructs that expect something from which they can obtain successive items until the supply is exhausted. We have seen that the for statement is such a construct, while an example of a function that takes an iterable is sum():\n# sum a list \u003e\u003e\u003e sum([0, 1, 2, 3]) # sum a range, which isn't a list, but an _iterable_ \u003e\u003e\u003e sum(range(4)) # 0 + 1 + 2 + 3 6 Note that range(4) isn’t a list, but the function sum() can support iterable input, not only lists, so the above code works.\n4 break, continue Statements, and else on Loops The break statement breaks out of the innermost enclosing loop (when there are loop inside a loop, only the loop closest to the break is broken out of.)\nLoop statements may have an else clause; it is executed when the loop terminates through exhaustion of the iterable (with for) or when the condition becomes false (with while), but not when the loop is terminated by a break statement. Example:\n\u003e\u003e\u003e for n in range(2, 10): ... for x in range(2, n): ... if n % x == 0: ... print(n, 'equals', x, '*', n//x) ... break ... else: ... # loop fell through without finding a factor ... print(n, 'is a prime number') ... 2 is a prime number 3 is a prime number 4 equals 2 * 2 5 is a prime number 6 equals 2 * 3 7 is a prime number 8 equals 2 * 4 9 equals 3 * 3 In this example, we demonstrated:\nnested loop breaking out of the innner loop the else clause belongs to the inner for loop, not the if statement (not many people know you can use else with a for loop :) 5 pass Statements The pass statement does nothing.\nIt can be used when a statement must exist but the program doesn’t have to do anything there. For example:\n\u003e\u003e\u003e while True: ... pass # does nothing, the loop will only stop when you press Ctrl+C Why does it exist? It is commonly used for place-holders for some part of code you must write later, allowing you to keep thinking at a more abstract level:\n\u003e\u003e\u003e def initlog(*args): ... pass # Remember to implement this! ... 6 match Statements A match statement takes an expression and compares its value to successive patterns given as one or more case blocks. If no case matches, none of the branches is executed.\nIt acts like multiple if/elif.\nNote that only the first pattern that matches gets executed and it can also extract components (sequence elements or object attributes) from the value into variables.\nExample:\ndef http_error(status): match status: case 400: return \"Bad request\" case 404: return \"Not found\" case 418: return \"I'm a teapot\" case _: return \"Something's wrong with the internet\" The last block: the _ acts as a “wildcard” (matches everything and never fails to match.)\nYou can combine several literals in a single pattern using | (which means “or”):\ncase 401 | 403 | 404: return \"Not allowed\" Summary After reading this tutorial, you should be able to use:\nif/elif/else for range break/continue pass match In the next chapter, we will talk about “functions.”\n","wordCount":"1318","inLanguage":"en","image":"https://www.guotiexin.com/1200px-Python-logo.png","datePublished":"2022-07-11T00:00:00Z","dateModified":"2022-07-11T00:00:00Z","author":{"@type":"Person","name":"IronCore"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://www.guotiexin.com/posts/python-03-flow-control/"},"publisher":{"@type":"Organization","name":"Tiexin Guo","logo":{"@type":"ImageObject","url":"https://www.guotiexin.com/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://www.guotiexin.com accesskey=h title="Tiexin Guo (Alt + H)">Tiexin Guo</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://www.guotiexin.com/about title=About><span>About</span></a></li><li><a href=https://cv.guotiexin.com/ title=CV><span>CV</span>&nbsp;<svg fill="none" shape-rendering="geometricPrecision" stroke="currentcolor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" viewBox="0 0 24 24" height="12" width="12"><path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"/><path d="M15 3h6v6"/><path d="M10 14 21 3"/></svg></a></li><li><a href=https://www.guotiexin.com/portfolio title=Portfolio><span>Portfolio</span></a></li><li><a href=https://www.guotiexin.com/categories/ title=Categories><span>Categories</span></a></li><li><a href=https://www.guotiexin.com/tags/ title=Tags><span>Tags</span></a></li><li><a href=https://www.guotiexin.com/posts/ title=Archive><span>Archive</span></a></li><li><a href=https://github.com/ironcore864 title><span><i class='fab fa-github fa-fw'></i></span>&nbsp;<svg fill="none" shape-rendering="geometricPrecision" stroke="currentcolor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" viewBox="0 0 24 24" height="12" width="12"><path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"/><path d="M15 3h6v6"/><path d="M10 14 21 3"/></svg></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class=post-title>Python Tutorial: 3. Flow Control</h1><div class=post-meta><span title='2022-07-11 00:00:00 +0000 UTC'>July 11, 2022</span>&nbsp;·&nbsp;IronCore</div></header><figure class=entry-cover><img loading=lazy srcset="https://www.guotiexin.com/posts/python-03-flow-control/1200px-Python-logo_huea986c3c0480ed53a13b884e13868f01_114143_360x0_resize_box_3.png 360w ,https://www.guotiexin.com/posts/python-03-flow-control/1200px-Python-logo_huea986c3c0480ed53a13b884e13868f01_114143_480x0_resize_box_3.png 480w ,https://www.guotiexin.com/posts/python-03-flow-control/1200px-Python-logo_huea986c3c0480ed53a13b884e13868f01_114143_720x0_resize_box_3.png 720w ,https://www.guotiexin.com/posts/python-03-flow-control/1200px-Python-logo_huea986c3c0480ed53a13b884e13868f01_114143_1080x0_resize_box_3.png 1080w ,https://www.guotiexin.com/posts/python-03-flow-control/1200px-Python-logo_huea986c3c0480ed53a13b884e13868f01_114143_1500x0_resize_box_3.png 1500w ,https://www.guotiexin.com/posts/python-03-flow-control/1200px-Python-logo.png 3967w" sizes="(min-width: 768px) 720px, 100vw" src=https://www.guotiexin.com/posts/python-03-flow-control/1200px-Python-logo.png alt="Python Tutorial" width=3967 height=1493></figure><div class=post-content><p>In the <a href=../python-02-informal-intro/>previous tutorial</a>, we demonstrated the <code>while</code> statement, which is a &ldquo;flow control&rdquo; statement.</p><blockquote><p>In computer programming, <em>control flow</em> or <em>flow of control</em> is the order function calls, instructions, and statements are executed or evaluated when a program is running.</p></blockquote><p>In Python (as in most other programming languages,) there are more usual flow control statements than just <code>while</code>.</p><hr><h2 id=1-if-statements>1 <code>if</code> Statements<a hidden class=anchor aria-hidden=true href=#1-if-statements>#</a></h2><p>The most well-known flow control statement probably is the <code>if</code> statement. Example:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>x</span> <span class=o>=</span> <span class=nb>int</span><span class=p>(</span><span class=nb>input</span><span class=p>(</span><span class=s2>&#34;Please enter an integer: &#34;</span><span class=p>))</span>
</span></span><span class=line><span class=cl><span class=n>Please</span> <span class=n>enter</span> <span class=n>an</span> <span class=n>integer</span><span class=p>:</span> <span class=mi>42</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=k>if</span> <span class=n>x</span> <span class=o>&lt;</span> <span class=mi>0</span><span class=p>:</span>
</span></span><span class=line><span class=cl><span class=o>...</span>     <span class=n>x</span> <span class=o>=</span> <span class=mi>0</span>
</span></span><span class=line><span class=cl><span class=o>...</span>     <span class=nb>print</span><span class=p>(</span><span class=s1>&#39;Negative changed to zero&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=o>...</span> <span class=k>elif</span> <span class=n>x</span> <span class=o>==</span> <span class=mi>0</span><span class=p>:</span>
</span></span><span class=line><span class=cl><span class=o>...</span>     <span class=nb>print</span><span class=p>(</span><span class=s1>&#39;Zero&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=o>...</span> <span class=k>elif</span> <span class=n>x</span> <span class=o>==</span> <span class=mi>1</span><span class=p>:</span>
</span></span><span class=line><span class=cl><span class=o>...</span>     <span class=nb>print</span><span class=p>(</span><span class=s1>&#39;Single&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=o>...</span> <span class=k>else</span><span class=p>:</span>
</span></span><span class=line><span class=cl><span class=o>...</span>     <span class=nb>print</span><span class=p>(</span><span class=s1>&#39;More&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=o>...</span>
</span></span><span class=line><span class=cl><span class=n>More</span>
</span></span></code></pre></div><p><em>Notes:</em></p><ul><li>There can be <em>0 or more</em> <code>elif</code> parts.</li><li>The <code>else</code> part is <em>optional</em>.</li><li>The keyword ‘elif’ is short for ‘else if’, and is useful to avoid excessive indentation. For example:</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>if</span> <span class=n>x</span> <span class=o>&lt;</span> <span class=mi>0</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=n>x</span> <span class=o>=</span> <span class=mi>0</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s1>&#39;Negative changed to zero&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=k>elif</span> <span class=n>x</span> <span class=o>==</span> <span class=mi>0</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s1>&#39;Zero&#39;</span><span class=p>)</span>
</span></span></code></pre></div><p>is equivalent to:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>if</span> <span class=n>x</span> <span class=o>&lt;</span> <span class=mi>0</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=n>x</span> <span class=o>=</span> <span class=mi>0</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s1>&#39;Negative changed to zero&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=k>else</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=n>x</span> <span class=o>==</span> <span class=mi>0</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=s1>&#39;Zero&#39;</span><span class=p>)</span>
</span></span></code></pre></div><hr><h2 id=2-for-statements>2 <code>for</code> Statements<a hidden class=anchor aria-hidden=true href=#2-for-statements>#</a></h2><p>Used for <em>loops</em>.</p><blockquote><p>A loop is a sequence of instructions that is continually repeated (indefinitely, or until a certain condition is reached.)</p></blockquote><p>In Python, you can use <code>for</code> to:</p><ul><li>loop over an arithmetic progression of numbers;</li><li>iterates over the items of any sequence (a list or a string), in the order that they appear in the sequence.</li></ul><p>Examples:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=c1># Measure some strings:</span>
</span></span><span class=line><span class=cl><span class=o>...</span> <span class=n>words</span> <span class=o>=</span> <span class=p>[</span><span class=s1>&#39;cat&#39;</span><span class=p>,</span> <span class=s1>&#39;window&#39;</span><span class=p>,</span> <span class=s1>&#39;defenestrate&#39;</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=k>for</span> <span class=n>w</span> <span class=ow>in</span> <span class=n>words</span><span class=p>:</span>
</span></span><span class=line><span class=cl><span class=o>...</span>     <span class=nb>print</span><span class=p>(</span><span class=n>w</span><span class=p>,</span> <span class=nb>len</span><span class=p>(</span><span class=n>w</span><span class=p>))</span>
</span></span><span class=line><span class=cl><span class=o>...</span>
</span></span><span class=line><span class=cl><span class=n>cat</span> <span class=mi>3</span>
</span></span><span class=line><span class=cl><span class=n>window</span> <span class=mi>6</span>
</span></span><span class=line><span class=cl><span class=n>defenestrate</span> <span class=mi>12</span>
</span></span></code></pre></div><p><em>Code that modifies a collection while iterating over that same collection can be tricky to get right.</em> For example:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># Create a sample collection</span>
</span></span><span class=line><span class=cl><span class=n>users</span> <span class=o>=</span> <span class=p>{</span><span class=s1>&#39;Hans&#39;</span><span class=p>:</span> <span class=s1>&#39;active&#39;</span><span class=p>,</span> <span class=s1>&#39;Éléonore&#39;</span><span class=p>:</span> <span class=s1>&#39;inactive&#39;</span><span class=p>,</span> <span class=s1>&#39;景太郎&#39;</span><span class=p>:</span> <span class=s1>&#39;active&#39;</span><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Strategy:  Iterate over a copy</span>
</span></span><span class=line><span class=cl><span class=k>for</span> <span class=n>user</span><span class=p>,</span> <span class=n>status</span> <span class=ow>in</span> <span class=n>users</span><span class=o>.</span><span class=n>items</span><span class=p>():</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=n>status</span> <span class=o>==</span> <span class=s1>&#39;inactive&#39;</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=k>del</span> <span class=n>users</span><span class=p>[</span><span class=n>user</span><span class=p>]</span>
</span></span></code></pre></div><p>Run the code above, and you will get an error &ldquo;RuntimeError: dictionary changed size during iteration&rdquo;.</p><p>So, it is usually a good practice not to modify something while you are iterating over it. If you have to, a more straightforward way is to loop over a copy of the collection or to create a new collection:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># Create a sample collection</span>
</span></span><span class=line><span class=cl><span class=n>users</span> <span class=o>=</span> <span class=p>{</span><span class=s1>&#39;Hans&#39;</span><span class=p>:</span> <span class=s1>&#39;active&#39;</span><span class=p>,</span> <span class=s1>&#39;Éléonore&#39;</span><span class=p>:</span> <span class=s1>&#39;inactive&#39;</span><span class=p>,</span> <span class=s1>&#39;景太郎&#39;</span><span class=p>:</span> <span class=s1>&#39;active&#39;</span><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Strategy1:  Iterate over a copy</span>
</span></span><span class=line><span class=cl><span class=k>for</span> <span class=n>user</span><span class=p>,</span> <span class=n>status</span> <span class=ow>in</span> <span class=n>users</span><span class=o>.</span><span class=n>copy</span><span class=p>()</span><span class=o>.</span><span class=n>items</span><span class=p>():</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=n>status</span> <span class=o>==</span> <span class=s1>&#39;inactive&#39;</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=k>del</span> <span class=n>users</span><span class=p>[</span><span class=n>user</span><span class=p>]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Strategy2:  Create a new collection</span>
</span></span><span class=line><span class=cl><span class=n>active_users</span> <span class=o>=</span> <span class=p>{}</span>
</span></span><span class=line><span class=cl><span class=k>for</span> <span class=n>user</span><span class=p>,</span> <span class=n>status</span> <span class=ow>in</span> <span class=n>users</span><span class=o>.</span><span class=n>items</span><span class=p>():</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=n>status</span> <span class=o>==</span> <span class=s1>&#39;active&#39;</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=n>active_users</span><span class=p>[</span><span class=n>user</span><span class=p>]</span> <span class=o>=</span> <span class=n>status</span>
</span></span></code></pre></div><hr><h2 id=3-the-range-function>3 The <code>range()</code> Function<a hidden class=anchor aria-hidden=true href=#3-the-range-function>#</a></h2><p>If you need to iterate over a sequence of numbers, the built-in function <code>range()</code> comes in handy.</p><p>It generates arithmetic progressions:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>5</span><span class=p>):</span>
</span></span><span class=line><span class=cl><span class=o>...</span>     <span class=nb>print</span><span class=p>(</span><span class=n>i</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=o>...</span>
</span></span><span class=line><span class=cl><span class=mi>0</span>
</span></span><span class=line><span class=cl><span class=mi>1</span>
</span></span><span class=line><span class=cl><span class=mi>2</span>
</span></span><span class=line><span class=cl><span class=mi>3</span>
</span></span><span class=line><span class=cl><span class=mi>4</span>
</span></span></code></pre></div><p>The ending point is never part of the generated sequence; <code>range(5)</code> generates 5 values, starting from 0, and ending at 4; 5 is not included. This acts similarly like substring indexes and slices mentioned in the previous tutorial. Python is consistent.</p><p>It is possible to let the range start at another number, or to specify a different increment (even negative; sometimes this is called the <em>step</em>):</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=nb>list</span><span class=p>(</span><span class=nb>range</span><span class=p>(</span><span class=mi>5</span><span class=p>,</span> <span class=mi>10</span><span class=p>))</span>
</span></span><span class=line><span class=cl><span class=p>[</span><span class=mi>5</span><span class=p>,</span> <span class=mi>6</span><span class=p>,</span> <span class=mi>7</span><span class=p>,</span> <span class=mi>8</span><span class=p>,</span> <span class=mi>9</span><span class=p>]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=nb>list</span><span class=p>(</span><span class=nb>range</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=mi>10</span><span class=p>,</span> <span class=mi>3</span><span class=p>))</span>
</span></span><span class=line><span class=cl><span class=p>[</span><span class=mi>0</span><span class=p>,</span> <span class=mi>3</span><span class=p>,</span> <span class=mi>6</span><span class=p>,</span> <span class=mi>9</span><span class=p>]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=nb>list</span><span class=p>(</span><span class=nb>range</span><span class=p>(</span><span class=o>-</span><span class=mi>10</span><span class=p>,</span> <span class=o>-</span><span class=mi>100</span><span class=p>,</span> <span class=o>-</span><span class=mi>30</span><span class=p>))</span>
</span></span><span class=line><span class=cl><span class=p>[</span><span class=o>-</span><span class=mi>10</span><span class=p>,</span> <span class=o>-</span><span class=mi>40</span><span class=p>,</span> <span class=o>-</span><span class=mi>70</span><span class=p>]</span>
</span></span></code></pre></div><p>To iterate over the indices of a sequence, you can combine <code>range()</code> and <code>len()</code> as follows:</p><pre tabindex=0><code>&gt;&gt;&gt; a = [&#39;Mary&#39;, &#39;had&#39;, &#39;a&#39;, &#39;little&#39;, &#39;lamb&#39;]
&gt;&gt;&gt; for i in range(len(a)):
...     print(i, a[i])
...
0 Mary
1 had
2 a
3 little
4 lamb
</code></pre><p>However, in cases like these, it is convenient to use the <code>enumerate()</code> function:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>a</span> <span class=o>=</span> <span class=p>[</span><span class=s1>&#39;Mary&#39;</span><span class=p>,</span> <span class=s1>&#39;had&#39;</span><span class=p>,</span> <span class=s1>&#39;a&#39;</span><span class=p>,</span> <span class=s1>&#39;little&#39;</span><span class=p>,</span> <span class=s1>&#39;lamb&#39;</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=k>for</span> <span class=n>i</span><span class=p>,</span> <span class=n>word</span> <span class=ow>in</span> <span class=nb>enumerate</span><span class=p>(</span><span class=n>a</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=n>i</span><span class=p>,</span> <span class=n>word</span><span class=p>)</span>
</span></span></code></pre></div><p>If you print a range, a strange thing happens:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=nb>range</span><span class=p>(</span><span class=mi>10</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nb>range</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=mi>10</span><span class=p>)</span>
</span></span></code></pre></div><p>In many ways, the object returned by <code>range()</code> behaves as if it is a list, except it isn’t. It is an &ldquo;object&rdquo; which returns the successive items of the desired sequence when you iterate over it, but it doesn&rsquo;t really create the list, thus saving memory.</p><blockquote><p>We say such an object is <em>iterable</em>, that is, suitable as a target for functions and constructs that expect something from which they can obtain successive items until the supply is exhausted. We have seen that the <code>for</code> statement is such a construct, while an example of a function that takes an iterable is <code>sum()</code>:</p></blockquote><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># sum a list</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=nb>sum</span><span class=p>([</span><span class=mi>0</span><span class=p>,</span> <span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>])</span>
</span></span><span class=line><span class=cl><span class=c1># sum a range, which isn&#39;t a list, but an _iterable_</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=nb>sum</span><span class=p>(</span><span class=nb>range</span><span class=p>(</span><span class=mi>4</span><span class=p>))</span>  <span class=c1># 0 + 1 + 2 + 3</span>
</span></span><span class=line><span class=cl><span class=mi>6</span>
</span></span></code></pre></div><p>Note that <code>range(4)</code> isn&rsquo;t a list, but the function <code>sum()</code> can support <em>iterable</em> input, not only lists, so the above code works.</p><hr><h2 id=4-break-continue-statements-and-else-on-loops>4 <code>break</code>, <code>continue</code> Statements, and <code>else</code> on Loops<a hidden class=anchor aria-hidden=true href=#4-break-continue-statements-and-else-on-loops>#</a></h2><p>The <code>break</code> statement breaks out of the innermost enclosing loop (when there are loop inside a loop, only the loop closest to the <code>break</code> is broken out of.)</p><p>Loop statements may have an <code>else</code> clause; it is executed when the loop terminates through exhaustion of the iterable (with <code>for</code>) or when the condition becomes false (with <code>while</code>), but <em>not when the loop is terminated by a <code>break</code> statement</em>. Example:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=k>for</span> <span class=n>n</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>2</span><span class=p>,</span> <span class=mi>10</span><span class=p>):</span>
</span></span><span class=line><span class=cl><span class=o>...</span>     <span class=k>for</span> <span class=n>x</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>2</span><span class=p>,</span> <span class=n>n</span><span class=p>):</span>
</span></span><span class=line><span class=cl><span class=o>...</span>         <span class=k>if</span> <span class=n>n</span> <span class=o>%</span> <span class=n>x</span> <span class=o>==</span> <span class=mi>0</span><span class=p>:</span>
</span></span><span class=line><span class=cl><span class=o>...</span>             <span class=nb>print</span><span class=p>(</span><span class=n>n</span><span class=p>,</span> <span class=s1>&#39;equals&#39;</span><span class=p>,</span> <span class=n>x</span><span class=p>,</span> <span class=s1>&#39;*&#39;</span><span class=p>,</span> <span class=n>n</span><span class=o>//</span><span class=n>x</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=o>...</span>             <span class=k>break</span>
</span></span><span class=line><span class=cl><span class=o>...</span>     <span class=k>else</span><span class=p>:</span>
</span></span><span class=line><span class=cl><span class=o>...</span>         <span class=c1># loop fell through without finding a factor</span>
</span></span><span class=line><span class=cl><span class=o>...</span>         <span class=nb>print</span><span class=p>(</span><span class=n>n</span><span class=p>,</span> <span class=s1>&#39;is a prime number&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=o>...</span>
</span></span><span class=line><span class=cl><span class=mi>2</span> <span class=ow>is</span> <span class=n>a</span> <span class=n>prime</span> <span class=n>number</span>
</span></span><span class=line><span class=cl><span class=mi>3</span> <span class=ow>is</span> <span class=n>a</span> <span class=n>prime</span> <span class=n>number</span>
</span></span><span class=line><span class=cl><span class=mi>4</span> <span class=n>equals</span> <span class=mi>2</span> <span class=o>*</span> <span class=mi>2</span>
</span></span><span class=line><span class=cl><span class=mi>5</span> <span class=ow>is</span> <span class=n>a</span> <span class=n>prime</span> <span class=n>number</span>
</span></span><span class=line><span class=cl><span class=mi>6</span> <span class=n>equals</span> <span class=mi>2</span> <span class=o>*</span> <span class=mi>3</span>
</span></span><span class=line><span class=cl><span class=mi>7</span> <span class=ow>is</span> <span class=n>a</span> <span class=n>prime</span> <span class=n>number</span>
</span></span><span class=line><span class=cl><span class=mi>8</span> <span class=n>equals</span> <span class=mi>2</span> <span class=o>*</span> <span class=mi>4</span>
</span></span><span class=line><span class=cl><span class=mi>9</span> <span class=n>equals</span> <span class=mi>3</span> <span class=o>*</span> <span class=mi>3</span>
</span></span></code></pre></div><p>In this example, we demonstrated:</p><ul><li>nested loop</li><li>breaking out of the innner loop</li><li>the <code>else</code> clause belongs to the inner <code>for</code> loop, not the <code>if</code> statement (not many people know you can use <code>else</code> with a for loop :)</li></ul><hr><h2 id=5-pass-statements>5 <code>pass</code> Statements<a hidden class=anchor aria-hidden=true href=#5-pass-statements>#</a></h2><p>The <code>pass</code> statement does <em>nothing</em>.</p><p>It can be used when a statement must exist but the program doesn&rsquo;t have to do anything there. For example:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=k>while</span> <span class=kc>True</span><span class=p>:</span>
</span></span><span class=line><span class=cl><span class=o>...</span>     <span class=k>pass</span>  <span class=c1># does nothing, the loop will only stop when you press Ctrl+C</span>
</span></span></code></pre></div><p>Why does it exist? It is commonly used for place-holders for some part of code you must write later, allowing you to keep thinking at a more abstract level:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=k>def</span> <span class=nf>initlog</span><span class=p>(</span><span class=o>*</span><span class=n>args</span><span class=p>):</span>
</span></span><span class=line><span class=cl><span class=o>...</span>     <span class=k>pass</span>   <span class=c1># Remember to implement this!</span>
</span></span><span class=line><span class=cl><span class=o>...</span>
</span></span></code></pre></div><hr><h2 id=6-match-statements>6 <code>match</code> Statements<a hidden class=anchor aria-hidden=true href=#6-match-statements>#</a></h2><p>A match statement takes an <em>expression</em> and compares its value to successive patterns given as one or more case blocks. If no case matches, none of the branches is executed.</p><p>It acts like multiple <code>if</code>/<code>elif</code>.</p><p>Note that only the first pattern that matches gets executed and it can also extract components (sequence elements or object attributes) from the value into variables.</p><p>Example:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>def</span> <span class=nf>http_error</span><span class=p>(</span><span class=n>status</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=n>match</span> <span class=n>status</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=n>case</span> <span class=mi>400</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=k>return</span> <span class=s2>&#34;Bad request&#34;</span>
</span></span><span class=line><span class=cl>        <span class=n>case</span> <span class=mi>404</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=k>return</span> <span class=s2>&#34;Not found&#34;</span>
</span></span><span class=line><span class=cl>        <span class=n>case</span> <span class=mi>418</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=k>return</span> <span class=s2>&#34;I&#39;m a teapot&#34;</span>
</span></span><span class=line><span class=cl>        <span class=n>case</span> <span class=n>_</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=k>return</span> <span class=s2>&#34;Something&#39;s wrong with the internet&#34;</span>
</span></span></code></pre></div><blockquote><p>The last block: the <code>_</code> acts as a &ldquo;wildcard&rdquo; (matches everything and never fails to match.)</p></blockquote><p>You can combine several literals in a single pattern using <code>|</code> (which means &ldquo;or&rdquo;):</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>case</span> <span class=mi>401</span> <span class=o>|</span> <span class=mi>403</span> <span class=o>|</span> <span class=mi>404</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=s2>&#34;Not allowed&#34;</span>
</span></span></code></pre></div><hr><h2 id=summary>Summary<a hidden class=anchor aria-hidden=true href=#summary>#</a></h2><p>After reading this tutorial, you should be able to use:</p><ul><li>if/elif/else</li><li>for</li><li>range</li><li>break/continue</li><li>pass</li><li>match</li></ul><p>In the next chapter, we will talk about &ldquo;functions.&rdquo;</p></div><footer class=post-footer><ul class=post-tags><li><a href=https://www.guotiexin.com/tags/python/>python</a></li></ul></footer></article></main><footer class=footer><span>&copy; 2022 <a href=https://www.guotiexin.com>Tiexin Guo</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>